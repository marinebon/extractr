[{"path":"https://marinebon.github.io/extractr/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 extractr authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"get-area-of-interest-aoi","dir":"Articles","previous_headings":"","what":"Get area of interest (AoI)","title":"extractr","text":"Load area interest (AoI) sanctuaries.geojson Florida Keys National Marine Sanctuary (FKNMS).","code":"aoi_geo <- \"https://raw.githubusercontent.com/noaa-onms/onmsR/master/data-raw/sanctuaries.geojson\"  aoi <- read_sf(aoi_geo) |>    filter(nms == \"FKNMS\") (bb <- st_bbox(aoi)) #>      xmin      ymin      xmax      ymax  #> -83.14989  24.30041 -80.06647  25.65046  mapView(aoi)"},{"path":[]},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"get-info","dir":"Articles","previous_headings":"Dataset: sea surface temperature","what":"Get info","title":"extractr","text":"ERDDAP dataset: ERDDAP - Sea Surface Temperature, NOAA Coral Reef Watch Daily Global 5km Satellite SST (CoralTemp), 1985-present, Daily - Data Access Form","code":"ed_url  <- \"https://coastwatch.noaa.gov/erddap/griddap/noaacrwsstDaily.html\" (ed <- ed_info(ed_url)) #> <ERDDAP info> noaacrwsstDaily  #>  Base URL: https://coastwatch.noaa.gov/erddap  #>  Dataset Type: griddap  #>  Dimensions (range):   #>      time: (1985-01-01T12:00:00Z, 2025-05-15T12:00:00Z)  #>      latitude: (-89.975, 89.975)  #>      longitude: (-179.975, 179.975)  #>  Variables:   #>      analysed_sst:  #>          Units: degree_C  #>      sea_ice_fraction:  #>          Units: 1"},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"get-dimensions","dir":"Articles","previous_headings":"Dataset: sea surface temperature","what":"Get dimensions","title":"extractr","text":"","code":"var <- \"analysed_sst\"  dims <- ed_dims(ed) names(dims) #> [1] \"time\"      \"latitude\"  \"longitude\"  # let's limit to the most recent 10 times (times <- tail(dims[[\"time\"]], 10)) #>  [1] \"2025-05-06 12:00:00 UTC\" \"2025-05-07 12:00:00 UTC\" #>  [3] \"2025-05-08 12:00:00 UTC\" \"2025-05-09 12:00:00 UTC\" #>  [5] \"2025-05-10 12:00:00 UTC\" \"2025-05-11 12:00:00 UTC\" #>  [7] \"2025-05-12 12:00:00 UTC\" \"2025-05-13 12:00:00 UTC\" #>  [9] \"2025-05-14 12:00:00 UTC\" \"2025-05-15 12:00:00 UTC\""},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"extract-dataset-from-aoi","dir":"Articles","previous_headings":"Dataset: sea surface temperature","what":"Extract dataset from AoI","title":"extractr","text":"","code":"d_csv <- here(\"data_tmp/sst_timeseries.csv\") r_tif <- here(\"data_tmp/sst_raster.tif\")  ed_extract(   ed        = ed,   var       = var,   sf_zones  = aoi,   fld_zones = \"nms\",   zonal_fun = \"mean\",   zonal_csv = d_csv,   rast_tif  = r_tif,   time_min  = times[1],   verbose   = TRUE) #> Downloading 1 requests, up to 59 time slices each #> Fetching request 1 of 1 (2025-05-06 to 2025-05-15) ~ 11:19:17 UTC"},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"plot-time-series","dir":"Articles","previous_headings":"Dataset: sea surface temperature","what":"Plot time series","title":"extractr","text":"","code":"d <- read_csv(d_csv) head(d) #> # A tibble: 6 × 4 #>   nms   lyr                               mean time                #>   <chr> <chr>                            <dbl> <dttm>              #> 1 FKNMS analysed_sst|2025-05-06 12:00:00  27.1 2025-05-06 12:00:00 #> 2 FKNMS analysed_sst|2025-05-07 12:00:00  27.2 2025-05-07 12:00:00 #> 3 FKNMS analysed_sst|2025-05-08 12:00:00  27.3 2025-05-08 12:00:00 #> 4 FKNMS analysed_sst|2025-05-09 12:00:00  27.3 2025-05-09 12:00:00 #> 5 FKNMS analysed_sst|2025-05-10 12:00:00  27.2 2025-05-10 12:00:00 #> 6 FKNMS analysed_sst|2025-05-11 12:00:00  27.5 2025-05-11 12:00:00  plot_ts(d, label = \"Surface Temperature (ºC)\")"},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"map-raster","dir":"Articles","previous_headings":"Dataset: sea surface temperature","what":"Map raster","title":"extractr","text":"","code":"r <- rast(r_tif) names(r) #>  [1] \"analysed_sst|2025-05-06 12:00:00\" \"analysed_sst|2025-05-07 12:00:00\" #>  [3] \"analysed_sst|2025-05-08 12:00:00\" \"analysed_sst|2025-05-09 12:00:00\" #>  [5] \"analysed_sst|2025-05-10 12:00:00\" \"analysed_sst|2025-05-11 12:00:00\" #>  [7] \"analysed_sst|2025-05-12 12:00:00\" \"analysed_sst|2025-05-13 12:00:00\" #>  [9] \"analysed_sst|2025-05-14 12:00:00\" \"analysed_sst|2025-05-15 12:00:00\"  lyr <- names(r)[1] plet(r[lyr], tiles = \"Esri.OceanBasemap\")"},{"path":[]},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"get-info-1","dir":"Articles","previous_headings":"Dataset: sea surface salinity","what":"Get info","title":"extractr","text":"ERDDAP dataset: ERDDAP - Sea Surface Salinity, Miras SMOS, Near Real-Time, Global 0.25°, 2010-present, 3 Day Composite - Data Access Form","code":"ed_url  <- \"https://coastwatch.noaa.gov/erddap/griddap/noaacwSMOSsss3day.html\" ed <- ed_info(ed_url) ed #> <ERDDAP info> noaacwSMOSsss3day  #>  Base URL: https://coastwatch.noaa.gov/erddap  #>  Dataset Type: griddap  #>  Dimensions (range):   #>      time: (2010-06-03T12:00:00Z, 2025-05-07T12:00:00Z)  #>      altitude: (0.0, 0.0)  #>      latitude: (-89.875, 89.875)  #>      longitude: (-179.875, 179.875)  #>  Variables:   #>      sss:  #>          Units: PSU  #>      sss_dif:  #>          Units: PSU"},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"get-dimensions-1","dir":"Articles","previous_headings":"Dataset: sea surface salinity","what":"Get dimensions","title":"extractr","text":"","code":"var <- \"sss\"  dims <- ed_dims(ed) names(dims) #> [1] \"time\"      \"altitude\"  \"latitude\"  \"longitude\"  # let's limit to the most recent 10 times (times <- tail(dims[[\"time\"]], 10)) #>  [1] \"2025-04-10 12:00:00 UTC\" \"2025-04-13 12:00:00 UTC\" #>  [3] \"2025-04-16 12:00:00 UTC\" \"2025-04-19 12:00:00 UTC\" #>  [5] \"2025-04-22 12:00:00 UTC\" \"2025-04-25 12:00:00 UTC\" #>  [7] \"2025-04-28 12:00:00 UTC\" \"2025-05-01 12:00:00 UTC\" #>  [9] \"2025-05-04 12:00:00 UTC\" \"2025-05-07 12:00:00 UTC\""},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"extract-dataset-from-aoi-1","dir":"Articles","previous_headings":"Dataset: sea surface salinity","what":"Extract dataset from AoI","title":"extractr","text":"","code":"d_csv <- here(\"data_tmp/sss_timeseries.csv\") r_tif <- here(\"data_tmp/sss_raster.tif\")  ed_extract(   ed        = ed,   var       = var,   sf_zones  = aoi,   fld_zones = \"nms\",   zonal_fun = \"mean\",   zonal_csv = d_csv,   rast_tif  = r_tif,   time_min  = times[1],   verbose   = TRUE) #> Downloading 1 requests, up to 1282 time slices each #> Fetching request 1 of 1 (2025-04-10 to 2025-05-07) ~ 11:19:23 UTC"},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"plot-time-series-1","dir":"Articles","previous_headings":"Dataset: sea surface salinity","what":"Plot time series","title":"extractr","text":"","code":"d <- read_csv(d_csv) head(d) #> # A tibble: 6 × 4 #>   nms   lyr                      mean time                #>   <chr> <chr>                   <dbl> <dttm>              #> 1 FKNMS sss|2025-04-10 12:00:00  37.4 2025-04-10 12:00:00 #> 2 FKNMS sss|2025-04-13 12:00:00  38.2 2025-04-13 12:00:00 #> 3 FKNMS sss|2025-04-16 12:00:00  36.7 2025-04-16 12:00:00 #> 4 FKNMS sss|2025-04-19 12:00:00  37.0 2025-04-19 12:00:00 #> 5 FKNMS sss|2025-04-22 12:00:00  36.1 2025-04-22 12:00:00 #> 6 FKNMS sss|2025-04-25 12:00:00  36.9 2025-04-25 12:00:00  plot_ts(d, label = \"Surface Salinity (PSU)\")"},{"path":"https://marinebon.github.io/extractr/articles/extractr.html","id":"map-raster-1","dir":"Articles","previous_headings":"Dataset: sea surface salinity","what":"Map raster","title":"extractr","text":"","code":"r <- rast(r_tif) names(r) #>  [1] \"sss|2025-04-10 12:00:00\" \"sss|2025-04-13 12:00:00\" #>  [3] \"sss|2025-04-16 12:00:00\" \"sss|2025-04-19 12:00:00\" #>  [5] \"sss|2025-04-22 12:00:00\" \"sss|2025-04-25 12:00:00\" #>  [7] \"sss|2025-04-28 12:00:00\" \"sss|2025-05-01 12:00:00\" #>  [9] \"sss|2025-05-04 12:00:00\" \"sss|2025-05-07 12:00:00\"  lyr <- names(r)[1] plet(r[lyr], tiles = \"Esri.OceanBasemap\")"},{"path":"https://marinebon.github.io/extractr/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Benjamin Best. Author, maintainer.","code":""},{"path":"https://marinebon.github.io/extractr/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Best B (2025). extractr: Extract data online dataset APIs. R package version 0.1.6, https://marinebon.github.io/extractr.","code":"@Manual{,   title = {extractr: Extract data from online dataset APIs},   author = {Benjamin Best},   year = {2025},   note = {R package version 0.1.6},   url = {https://marinebon.github.io/extractr}, }"},{"path":"https://marinebon.github.io/extractr/index.html","id":"extractr","dir":"","previous_headings":"","what":"Extract data from online dataset APIs","title":"Extract data from online dataset APIs","text":"goal extractr R library provide easy use extraction summarization functions R common datasets (ERDDAP, Google Earth Engine, DataOne, etc). example use functions, please see Get started.","code":""},{"path":"https://marinebon.github.io/extractr/index.html","id":"roadmap","dir":"","previous_headings":"","what":"Roadmap","title":"Extract data from online dataset APIs","text":"ERDDAP:   Basic extraction polygon ERDDAP datasets: get_ed_grds()   Utility functions ERDDAP metadata: ed_dims(), ed_dim(),   Improve raster generation non-rectilinear grids: #3 Google Earth Engine (GEE):   Basic extraction polygon GEE datasets: #4","code":""},{"path":"https://marinebon.github.io/extractr/reference/bbox_ply.html","id":null,"dir":"Reference","previous_headings":"","what":"Create polygon from bounding box — bbox_ply","title":"Create polygon from bounding box — bbox_ply","text":"Utility function create polygon bounding box","code":""},{"path":"https://marinebon.github.io/extractr/reference/bbox_ply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create polygon from bounding box — bbox_ply","text":"","code":"bbox_ply(lon_min, lat_min, lon_max, lat_max)"},{"path":"https://marinebon.github.io/extractr/reference/bbox_ply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create polygon from bounding box — bbox_ply","text":"lon_min longitude, minimum lat_min latitude, minimum lon_max longitude, maximum lat_max latitude, maximum","code":""},{"path":"https://marinebon.github.io/extractr/reference/bbox_ply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create polygon from bounding box — bbox_ply","text":"Returns spatial feature sf polygon.","code":""},{"path":"https://marinebon.github.io/extractr/reference/bbox_ply.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create polygon from bounding box — bbox_ply","text":"","code":"# Florida Keys area lon = -81.3; lat = 24.5; w = 10 bbox_ply(lon - w, lat - w, lon + w, lat + w) #> Geometry set for 1 feature  #> Geometry type: POLYGON #> Dimension:     XY #> Bounding box:  xmin: -91.3 ymin: 14.5 xmax: -71.3 ymax: 34.5 #> CRS:           NA #> POLYGON ((-91.3 14.5, -71.3 14.5, -71.3 34.5, -..."},{"path":"https://marinebon.github.io/extractr/reference/check_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if a URL is online — check_url","title":"Check if a URL is online — check_url","text":"Check URL online making HEAD request. Returns TRUE URL reachable status code 200 399 (inclusive). Returns FALSE otherwise.","code":""},{"path":"https://marinebon.github.io/extractr/reference/check_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if a URL is online — check_url","text":"","code":"check_url(url, timeout_ms = 5000)"},{"path":"https://marinebon.github.io/extractr/reference/check_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check if a URL is online — check_url","text":"url link check timeout_ms timeout milliseconds","code":""},{"path":"https://marinebon.github.io/extractr/reference/check_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if a URL is online — check_url","text":"list online status, status code, message","code":""},{"path":"https://marinebon.github.io/extractr/reference/check_url.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Check if a URL is online — check_url","text":"function useful checking availability server resource attempting access . particular, used ed_info() check ERDDAP server online making requests since underlying rerddap::info() crashes R url offline.","code":""},{"path":"https://marinebon.github.io/extractr/reference/check_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if a URL is online — check_url","text":"","code":"check_url(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/NOAA_DHW.html\") #> $online #> [1] FALSE #>  #> $status_code #> [1] 403 #>  #> $message #> [1] \"Server is online with status code: 403\" #>"},{"path":"https://marinebon.github.io/extractr/reference/ed_dim.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dimension values from ERDDAP dataset — ed_dim","title":"Get dimension values from ERDDAP dataset — ed_dim","text":"Given ERDDAP dataset info object, return vector available values given dimension.","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_dim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dimension values from ERDDAP dataset — ed_dim","text":"","code":"ed_dim(ed, dim)"},{"path":"https://marinebon.github.io/extractr/reference/ed_dim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get dimension values from ERDDAP dataset — ed_dim","text":"dim dimension extract ed_info ERDDAP info object SeaScape dataset, returned ed_info)","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_dim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dimension values from ERDDAP dataset — ed_dim","text":"vector values given dimension","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_dim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get dimension values from ERDDAP dataset — ed_dim","text":"","code":"ed <- ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\") #> Error in ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\"): ERDDAP server is offline or unreachable: Server is online with status code: 403 ed_dim(ed, \"LEV\") #> Error: object 'ed' not found"},{"path":"https://marinebon.github.io/extractr/reference/ed_dims.html","id":null,"dir":"Reference","previous_headings":"","what":"Get dimensions from ERDDAP dataset — ed_dims","title":"Get dimensions from ERDDAP dataset — ed_dims","text":"Given ERDDAP dataset info object, return character vector available dimensions.","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_dims.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get dimensions from ERDDAP dataset — ed_dims","text":"","code":"ed_dims(ed)"},{"path":"https://marinebon.github.io/extractr/reference/ed_dims.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get dimensions from ERDDAP dataset — ed_dims","text":"ed ERDDAP info object, returned ed_info)","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_dims.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get dimensions from ERDDAP dataset — ed_dims","text":"character vector dimension names","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_dims.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get dimensions from ERDDAP dataset — ed_dims","text":"","code":"ed <- ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\") #> Error in ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\"): ERDDAP server is offline or unreachable: Server is online with status code: 403 ed_dims(ed) #> Error: object 'ed' not found"},{"path":"https://marinebon.github.io/extractr/reference/ed_extract.html","id":null,"dir":"Reference","previous_headings":"","what":"ERDDAP Extract — ed_extract","title":"ERDDAP Extract — ed_extract","text":"Extract data ERDDAP dataset bounding box /polygon. function provides following enhancements rerddap::griddap(): Throttle request rerddap::griddap() chunks time, ERDDAP server become unresponsive big request minimizing number requests. Mask grids Area Interest (aoi) (using terra::mask()). Summarize grids time aoi, including sub-geometries, CSV (using terra::zonal()). Preserve intermediary NetCDF /GeoTIFF files raster visualization.","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_extract.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ERDDAP Extract — ed_extract","text":"","code":"ed_extract(   ed,   var,   sf_zones = NULL,   fld_zones = NULL,   bbox = NULL,   zonal_csv,   zonal_fun = \"mean\",   rast_tif = NULL,   mask_tif = TRUE,   dir_nc = NULL,   keep_nc = FALSE,   n_max_vals_per_req = 1e+05,   n_max_retries = 3,   time_min = NULL,   time_max = NULL,   verbose = FALSE,   ... )"},{"path":"https://marinebon.github.io/extractr/reference/ed_extract.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"ERDDAP Extract — ed_extract","text":"ed ERDDAP info object, class rerddap::info returned ed_info) var variable extract sf_zones spatial feature object (sf) zones extract zonal statistics ERDDAP gridded data. sf_zones left default NULL value, bbox used. fld_zones character vector unique field name(s) sf_zones include extracted zonal statistics bbox bounding box (e.g., c(xmin = -83.0, ymin = 27.3, xmax = -81.8, ymax= 28.5)), used extract grid (.e., longitude latitude  arguments rerddap::griddap()). bbox left default NULL value, bounding box derived bounding box sf_zones. zonal_csv output zonal statistics CSV terra::zonal(rast_tif, aoi) zonal_fun function summarize data time sf_zones. Default: rast_tif optional output GeoTIFF masked sf_zones NetCDF mask_tif mask GeoTIFF sf_zones. Default: TRUE dir_nc optional output directory keep NetCDF files written disk rerddap::griddap() keep_nc keep NetCDF files written disk rerddap::griddap() server time. Default: 100,000 n_max_vals_per_req maximum number values request ERDDAP n_max_retries maximum number retries request data ERDDAP server time_min minimum time extract ERDDAP dataset time_max maximum time extract ERDDAP dataset verbose display messages status function. Useful debugging showing status getting data wide range /big polygon. Default: FALSE. ... arguments pass along rerddap::griddap(), filter request dimensions","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_extract.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"ERDDAP Extract — ed_extract","text":"invisible first argument (ed object), since called side effects","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_extract.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"ERDDAP Extract — ed_extract","text":"","code":"ed <- ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\") #> Error in ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\"): ERDDAP server is offline or unreachable: Server is online with status code: 403 (vars <- ed_vars(ed)) #> Error: object 'ed' not found ed_extract(   ed,   \"analysed_sst\",   bbox = c(xmin = -83.0, ymin = 27.3, xmax = -81.8, ymax= 28.5)) #> Error: object 'ed' not found"},{"path":"https://marinebon.github.io/extractr/reference/ed_info.html","id":null,"dir":"Reference","previous_headings":"","what":"Get ERDDAP dataset information — ed_info","title":"Get ERDDAP dataset information — ed_info","text":"Get ERDDAP dataset information.","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_info.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get ERDDAP dataset information — ed_info","text":"","code":"ed_info(dataset)"},{"path":"https://marinebon.github.io/extractr/reference/ed_info.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get ERDDAP dataset information — ed_info","text":"dataset {region}_{frequency} dataset. Valid values (far): \"global_8day\" \"global_monthly\" (default).","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_info.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get ERDDAP dataset information — ed_info","text":"ERDDAP info object","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_info.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get ERDDAP dataset information — ed_info","text":"","code":"ed_info() # default: dataset = \"global_monthly\" #> Error in ed_info(): argument \"dataset\" is missing, with no default ed_info(\"global_8day\") #> Error in ed_info(\"global_8day\"): ERDDAP server is offline or unreachable: Server is online with status code: 403"},{"path":"https://marinebon.github.io/extractr/reference/ed_vars.html","id":null,"dir":"Reference","previous_headings":"","what":"Get variables from ERDDAP dataset — ed_vars","title":"Get variables from ERDDAP dataset — ed_vars","text":"Given ERDDAP dataset info object, return character vector available variables. Variables values vary along dimensions ERDDAP datasets (returned ed_dims()).","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_vars.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get variables from ERDDAP dataset — ed_vars","text":"","code":"ed_vars(ed)"},{"path":"https://marinebon.github.io/extractr/reference/ed_vars.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get variables from ERDDAP dataset — ed_vars","text":"ed ERDDAP info object, returned ed_info)","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_vars.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get variables from ERDDAP dataset — ed_vars","text":"character vector variable names","code":""},{"path":"https://marinebon.github.io/extractr/reference/ed_vars.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get variables from ERDDAP dataset — ed_vars","text":"","code":"ed <- ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\") #> Error in ed_info(\"https://coastwatch.pfeg.noaa.gov/erddap/griddap/jplMURSST41.html\"): ERDDAP server is offline or unreachable: Server is online with status code: 403 ed_vars(ed) #> Error: object 'ed' not found"},{"path":"https://marinebon.github.io/extractr/reference/get_ed_grds.html","id":null,"dir":"Reference","previous_headings":"","what":"Get Seascape grids within polygon for date range — get_ed_grds","title":"Get Seascape grids within polygon for date range — get_ed_grds","text":"Given polygon date range, fetch Seascape data return raster layer single date raster stack multiple dates found given date range.","code":""},{"path":"https://marinebon.github.io/extractr/reference/get_ed_grds.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get Seascape grids within polygon for date range — get_ed_grds","text":"","code":"get_ed_grds(   ed_info,   ply,   ed_var = \"CLASS\",   date_beg = min(ed_dim(ed_info, \"time\")),   date_end = max(ed_dim(ed_info, \"time\")),   dir_tif = NULL,   del_cache = F,   verbose = T )"},{"path":"https://marinebon.github.io/extractr/reference/get_ed_grds.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get Seascape grids within polygon for date range — get_ed_grds","text":"ed_info SeaScape ERDDAP info object, returned ed_info) ply polygon spatial feature sf, returned get_url_ply bbox_to_ply ed_var SeaScape variable. One \"CLASS\" (default) \"P\" probability. date_beg date begin fetch, character (\"2003-01-15\") Date (Date(\"2003-01-15\")). Defaults first date available ed_info. date_end date end fetch, character (\"2020-11-15\") Date (Date(\"2020-11-15\")). Defaults latest date available ed_info. dir_tif directory cache results. Files stored format grd_{ed_var}_{date}.tif information needed, place SeaScape dataset captured containing folders inadvertently write read wrong grid. folder consulted available dates fetching missing ERDDAP server. del_cache Delete ERDDAP cache cache_delete_all, may necessary underlying data changed. Default: FALSE. verbose display messages status function. Useful debugging showing status getting data wide range /big polygon. Default: FALSE.","code":""},{"path":"https://marinebon.github.io/extractr/reference/get_ed_grds.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get Seascape grids within polygon for date range — get_ed_grds","text":"Raster raster layer one date, stack ","code":""},{"path":"https://marinebon.github.io/extractr/reference/get_ed_grds.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get Seascape grids within polygon for date range — get_ed_grds","text":"","code":"ply  <- get_url_ply(\"mbnms\") #> Error in dir_create(dir_ply): could not find function \"dir_create\" ed_i <- ed_info() #> Error in ed_info(): argument \"dataset\" is missing, with no default grds <- get_ed_grds(ed_i, ply, date_beg = \"2020-01-01\") #> Error: object 'ed_i' not found grds #> Error: object 'grds' not found"},{"path":"https://marinebon.github.io/extractr/reference/get_url_ply.html","id":null,"dir":"Reference","previous_headings":"","what":"Get polygon from link or NOAA Sanctuary code — get_url_ply","title":"Get polygon from link or NOAA Sanctuary code — get_url_ply","text":"Given sanctuary code link (ie URL), download zip, unzip , read first shapefile spatial feature. function originally designed pull one zip links found NOAA Sanctuaries GIS.","code":""},{"path":"https://marinebon.github.io/extractr/reference/get_url_ply.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get polygon from link or NOAA Sanctuary code — get_url_ply","text":"","code":"get_url_ply(   sanctuary = NULL,   url = NULL,   dir_ply = here::here(\"data_ed/ply\"),   verbose = F )"},{"path":"https://marinebon.github.io/extractr/reference/get_url_ply.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get polygon from link or NOAA Sanctuary code — get_url_ply","text":"sanctuary NOAA Sanctuary code form url. Sanctuary codes can found NOAA Sanctuaries GIS. url Link fetch polygon. Originally designed pull one zip links found NOAA Sanctuaries GIS. dir_ply Directory download locally . directory serves cache skip operations already performed. zip file exists, skip downloading. directory unzip exists, skip unzipping. verbose Verbose meedages describing operations choices, skipping download unzip shapefile used one found.","code":""},{"path":"https://marinebon.github.io/extractr/reference/get_url_ply.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get polygon from link or NOAA Sanctuary code — get_url_ply","text":"Returns spatial feature sf polygon data frame.","code":""},{"path":"https://marinebon.github.io/extractr/reference/get_url_ply.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get polygon from link or NOAA Sanctuary code — get_url_ply","text":"","code":"# mbnms: Monterey Bay National Marine Sanctuary ply_mbnms <- get_url_ply(sanctuary = \"mbnms\") #> Error in dir_create(dir_ply): could not find function \"dir_create\" ply_mbnms #> Error: object 'ply_mbnms' not found plot(ply_mbnms[1]) #> Error: object 'ply_mbnms' not found  # fknms: Florida Keys National Marine Sanctuary ply_fknms <- get_url_ply(sanctuary = \"fknms\") #> Error in dir_create(dir_ply): could not find function \"dir_create\" ply_fknms #> Error: object 'ply_fknms' not found plot(ply_fknms[1]) #> Error: object 'ply_fknms' not found"},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize grids with a continuous variable into a time series table — grds_to_ts","title":"Summarize grids with a continuous variable into a time series table — grds_to_ts","text":"Summarize grids table columns: date, cellvalue (e.g. Seascape CLASS) number cells (n_cells).","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize grids with a continuous variable into a time series table — grds_to_ts","text":"","code":"grds_to_ts(grds, fxns = c(\"mean\", \"sd\"), ts_csv = NULL, verbose = F)"},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize grids with a continuous variable into a time series table — grds_to_ts","text":"grds raster stack one date, returned get_ss_grds ts_csv path csv save time series table. Default NULL, case table saved. path set already exists read dates grds present instead recalculating writing ts_csv. verbose show messages process. Useful debugging. Default: FALSE.","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize grids with a continuous variable into a time series table — grds_to_ts","text":"tibble data","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarize grids with a continuous variable into a time series table — grds_to_ts","text":"function particularly helpful using get_ed_grds() plot_ts_cat().","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarize grids with a continuous variable into a time series table — grds_to_ts","text":"","code":"ply  <- get_url_ply(\"mbnms\") #> Error in dir_create(dir_ply): could not find function \"dir_create\" ss_i <- get_ss_info() #> Error in get_ss_info(): could not find function \"get_ss_info\" grds <- get_ss_grds(ss_i, ply, date_beg = \"2020-01-01\") #> Error in get_ss_grds(ss_i, ply, date_beg = \"2020-01-01\"): could not find function \"get_ss_grds\" tbl  <- sum_ss_grds_to_ts(grds) #> Error in sum_ss_grds_to_ts(grds): could not find function \"sum_ss_grds_to_ts\" tbl #> Error: object 'tbl' not found"},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts_cat.html","id":null,"dir":"Reference","previous_headings":"","what":"Summarize categorical grids into time series table — grds_to_ts_cat","title":"Summarize categorical grids into time series table — grds_to_ts_cat","text":"Summarize grids table columns: date, cellvalue (e.g. Seascape CLASS) number cells (n_cells).","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts_cat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Summarize categorical grids into time series table — grds_to_ts_cat","text":"","code":"grds_to_ts_cat(grds, ts_csv = NULL, verbose = F)"},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts_cat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Summarize categorical grids into time series table — grds_to_ts_cat","text":"grds raster stack one date, returned get_ss_grds ts_csv path csv save time series table. Default NULL, case table saved. path set already exists read dates grds present instead recalculating writing ts_csv. verbose show messages process. Useful debugging. Default: FALSE.","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts_cat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Summarize categorical grids into time series table — grds_to_ts_cat","text":"tibble data","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts_cat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Summarize categorical grids into time series table — grds_to_ts_cat","text":"function particularly helpful using get_ed_grds() plot_ts_cat().","code":""},{"path":"https://marinebon.github.io/extractr/reference/grds_to_ts_cat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Summarize categorical grids into time series table — grds_to_ts_cat","text":"","code":"ply  <- get_url_ply(\"mbnms\") #> Error in dir_create(dir_ply): could not find function \"dir_create\" ss_i <- get_ss_info() #> Error in get_ss_info(): could not find function \"get_ss_info\" grds <- get_ss_grds(ss_i, ply, date_beg = \"2020-01-01\") #> Error in get_ss_grds(ss_i, ply, date_beg = \"2020-01-01\"): could not find function \"get_ss_grds\" tbl  <- sum_ss_grds_to_ts(grds) #> Error in sum_ss_grds_to_ts(grds): could not find function \"sum_ss_grds_to_ts\" tbl #> Error: object 'tbl' not found"},{"path":"https://marinebon.github.io/extractr/reference/plot_ts.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot time series — plot_ts","title":"Plot time series — plot_ts","text":"purpose function generate time series plots ERRDAP data.","code":""},{"path":"https://marinebon.github.io/extractr/reference/plot_ts.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot time series — plot_ts","text":"","code":"plot_ts(   ts,   fld_avg = \"mean\",   fld_sd = NULL,   fld_date = \"time\",   color = \"red\",   label = \"Temperature (°C)\",   ... )"},{"path":"https://marinebon.github.io/extractr/reference/plot_ts.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot time series — plot_ts","text":"ts file path timeseries table comma-separated value (CSV) data frame (required) fld_avg field name containing value average; default = \"mean\" fld_sd field name containing standard deviation average (optional); default = NULL fld_date field name containing date (required); default = \"time\" color color plot value; default = \"red\" label label y-axes plot ... additional parameters pass dygraphs::dygraph()","code":""},{"path":"https://marinebon.github.io/extractr/reference/plot_ts.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot time series — plot_ts","text":"dygraphs::dygraph() object time series plot","code":""},{"path":"https://marinebon.github.io/extractr/reference/plot_ts.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot time series — plot_ts","text":"","code":"if (FALSE) { # \\dontrun{ ts <- here::here(\"data_tmp/ts.csv\") plot_ts(ts, main = \"SST\") } # }"},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-016","dir":"Changelog","previous_headings":"","what":"extractr 0.1.6","title":"extractr 0.1.6","text":"Fixed ed_extract() wiping time slices CSV, eg time_min set later date already exists zonal_csv. function now preserves existing CSV data adds new dates, overwriting duplicates appropriately.","code":""},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-015","dir":"Changelog","previous_headings":"","what":"extractr 0.1.5","title":"extractr 0.1.5","text":"Added params ed_extract() documentation: keep_nc, n_max_vals_per_req, n_max_retries, time_min, time_max, verbose. ed_extract() function now returns invisible first argument ed, per 6 Functions | Advanced R. Updated pkgdown bootstrap 5 Reference sections. Fix removal temporary *_nc folders ed_extract() keep_nc = FALSE.","code":""},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-014","dir":"Changelog","previous_headings":"","what":"extractr 0.1.4","title":"extractr 0.1.4","text":"Added new function check_url() ed_info() check ERDDAP server valid working, since running rerddap::info(dataset, url = ed_url) offline ERDDAP crashes R. Fixed #8 check extra dimensions. Updated vignette use datasets: ERDDAP - Sea Surface Temperature, NOAA Coral Reef Watch Daily Global 5km Satellite SST (CoralTemp), 1985-present, Daily - Data Access Form ERDDAP - Sea Surface Salinity, Miras SMOS, Near Real-Time, Global 0.25°, 2010-present, 3 Day Composite - Data Access Form","code":""},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-013","dir":"Changelog","previous_headings":"","what":"extractr 0.1.3","title":"extractr 0.1.3","text":"Modified plot_ts() first argument either path CSV data frame.","code":""},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-012","dir":"Changelog","previous_headings":"","what":"extractr 0.1.2","title":"extractr 0.1.2","text":"Fixed arguments rerddap::griddap() rerddap version 1.0.3: x datasetx; time .character(). Fixed article outputs.","code":""},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-011","dir":"Changelog","previous_headings":"","what":"extractr 0.1.1","title":"extractr 0.1.1","text":"Fix get_ed_raster(), grds_to_ts() working noaa-onms/climate-dashboard ed_var = “CRW_SST” coral reef watch","code":""},{"path":"https://marinebon.github.io/extractr/news/index.html","id":"extractr-010","dir":"Changelog","previous_headings":"","what":"extractr 0.1.0","title":"extractr 0.1.0","text":"Added NEWS.md file track changes package. Added grds_to_ts() continuous, grds_to_ts_cat() categorical (seascapeR) Cleaned get_ed_grds() Added plot_ts() plot timeseries","code":""}]
